import React, { useState } from "react";
import { useDispatch } from "react-redux";
import { addFavorite, deleteFavorite } from "../../store/actions";
import "./Cards.css";

export default function Cards({
  id,
  address,
  balance,
  isFavorite,
  isOld,
  ethusd,
  ethbtc,
}) {
  const dispatch = useDispatch();
  const [price, setPrice] = useState(null);
  const [favorite, setFavorite] = useState(isFavorite);
  function onChange(e) {
    e.preventDefault();
    e.target.value === "usd"
      ? setPrice(ethusd)
      : e.target.value === "btc"
      ? setPrice(ethbtc)
      : setPrice(null);
  }
  function onClickAddFav(e) {
    e.preventDefault();
    dispatch(addFavorite(id));
    setFavorite(true);
  }
  function onClickDeleteFav(e) {
    e.preventDefault();
    dispatch(deleteFavorite(id));
    setFavorite(false);
  }
  return (
    <div key={id}>
      <div>
        <h1>{address}</h1>
        {isOld ? (
          <p id="old-wallet">
            <svg
              width="18"
              height="18"
              viewBox="0 0 18 18"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                fillRule="evenodd"
                clipRule="evenodd"
                d="M18 9C18 13.9706 13.9706 18 9 18C4.02944 18 0 13.9706 0 9C0 4.02944 4.02944 0 9 0C13.9706 0 18 4.02944 18 9ZM4.29289 13.7071C3.90237 13.3166 3.90237 12.6834 4.29289 12.2929L7.58579 9L4.29289 5.70711C3.90237 5.31658 3.90237 4.68342 4.29289 4.29289C4.68342 3.90237 5.31658 3.90237 5.70711 4.29289L9 7.58579L12.2929 4.29289C12.6834 3.90237 13.3166 3.90237 13.7071 4.29289C14.0976 4.68342 14.0976 5.31658 13.7071 5.70711L10.4142 9L13.7071 12.2929C14.0976 12.6834 14.0976 13.3166 13.7071 13.7071C13.3166 14.0976 12.6834 14.0976 12.2929 13.7071L9 10.4142L5.70711 13.7071C5.31658 14.0976 4.68342 14.0976 4.29289 13.7071Z"
                fill="#18191F"
              />
            </svg>
            Wallet antigua
          </p>
        ) : (
          <p id="new-wallet"></p>
        )}
      </div>
      <div>
        <div>
          <span>Saldo: </span>
          <span>{balance}</span>
        </div>
        <div>
          <div>Conversion: </div>
          <select onChange={(e) => onChange(e)} name="value" id="value">
            <option value="none">Selecciona tipo de cambio:</option>
            <option value="usd">Dolar</option>
            <option value="btc">Bitcoin</option>
          </select>
          <p>{price}</p>
        </div>
      </div>
      {favorite ? (
        <div className="favorites-container">
          <svg
            width="20"
            height="20"
            viewBox="0 0 20 20"
            fill="#000000"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M10.0151 15.9587L10.0151 15.9587L10.0152 15.9587L10.0152 15.9587L10.0154 15.9588L10.0161 15.9589C10.0174 15.9592 10.022 15.9603 10.0307 15.9634C10.0493 15.9703 10.0846 15.986 10.1447 16.0223C10.2767 16.1022 10.4434 16.2278 10.7272 16.4436L10.7726 16.4782C11.7112 17.1922 12.4734 17.7719 13.0755 18.1232C13.3828 18.3025 13.7017 18.4549 14.0212 18.5232C14.36 18.5956 14.735 18.5795 15.0841 18.3726C15.2033 18.302 15.3137 18.2179 15.4134 18.1222C15.7003 17.8471 15.8219 17.4978 15.8585 17.1593C15.8937 16.8347 15.8557 16.4808 15.7882 16.1216C15.656 15.4177 15.3657 14.4826 15.006 13.3236L14.99 13.2722C14.8821 12.9243 14.8183 12.7159 14.7856 12.5554C14.7567 12.4133 14.767 12.3732 14.7692 12.3644L14.7693 12.3639C14.7728 12.35 14.777 12.3365 14.7819 12.3234L14.0788 12.0623L14.7819 12.3234C14.782 12.3232 14.782 12.323 14.7821 12.3228C14.7844 12.3164 14.7967 12.2816 14.8943 12.1897C15.0084 12.0823 15.1744 11.9548 15.4578 11.7392L15.5023 11.7054C16.4418 10.9908 17.2037 10.4112 17.7082 9.92097C18.1778 9.46461 18.6863 8.8459 18.5364 8.07489C18.5101 7.93993 18.4693 7.80809 18.4143 7.68188C18.0937 6.94511 17.3062 6.7531 16.6691 6.67273C15.983 6.58617 15.0392 6.58619 13.8804 6.58621L13.8226 6.58621C13.4712 6.58621 13.2679 6.58518 13.1181 6.56878C13.0504 6.56137 13.014 6.55257 12.9955 6.54677C12.9811 6.54225 12.9774 6.53953 12.9767 6.53905L12.9766 6.53899C12.9671 6.53259 12.9578 6.52552 12.9487 6.51775L12.4613 7.08773L12.9487 6.51775C12.9473 6.51652 12.9412 6.51148 12.929 6.49308C12.915 6.47197 12.8936 6.4339 12.8644 6.36523C12.801 6.21579 12.7356 6.0082 12.6276 5.66014L12.6114 5.60796C12.2519 4.44954 11.9616 3.51431 11.6732 2.86295C11.5263 2.53115 11.357 2.21818 11.1425 1.9728C10.9177 1.7156 10.611 1.49788 10.2077 1.44983C10.0697 1.43339 9.9303 1.43339 9.7923 1.44983C9.38899 1.49788 9.0823 1.7156 8.8575 1.9728C8.64303 2.21818 8.47372 2.53115 8.3268 2.86295C8.03837 3.51432 7.74812 4.44956 7.38861 5.60799L7.37243 5.66014C7.2644 6.0082 7.19904 6.21579 7.13558 6.36523C7.10642 6.4339 7.08498 6.47197 7.07101 6.49308C7.05914 6.51104 7.05299 6.51628 7.05137 6.51766L7.05126 6.51775L7.53873 7.08773L7.05126 6.51775C7.04219 6.52551 7.03286 6.53259 7.02336 6.53899C7.023 6.53924 7.01966 6.542 7.00448 6.54677C6.98599 6.55257 6.94961 6.56137 6.88193 6.56878C6.73214 6.58518 6.52882 6.58621 6.17744 6.58621L6.11956 6.58621C4.96084 6.58619 4.01699 6.58617 3.3309 6.67273C2.69383 6.7531 1.90626 6.94511 1.58565 7.68188C1.53073 7.80809 1.48987 7.93993 1.46362 8.07489C1.31368 8.8459 1.82224 9.46461 2.2918 9.92097C2.79627 10.4112 3.55826 10.9908 4.4978 11.7054L4.54216 11.7392C4.82565 11.9548 4.99164 12.0823 5.10573 12.1897C5.20334 12.2816 5.21564 12.3164 5.21789 12.3228C5.21797 12.323 5.21804 12.3232 5.2181 12.3234L5.92118 12.0623L5.2181 12.3234C5.22297 12.3365 5.22718 12.35 5.23066 12.3639L5.95258 12.1823L5.23066 12.3639L5.23079 12.3644C5.23303 12.3732 5.24327 12.4133 5.21435 12.5554C5.18169 12.7159 5.11791 12.9243 5.00995 13.2722L4.994 13.3236C4.63426 14.4826 4.34403 15.4177 4.21176 16.1216C4.14428 16.4808 4.10635 16.8347 4.14145 17.1593C4.17806 17.4978 4.29973 17.8471 4.58656 18.1222C4.6863 18.2179 4.79671 18.302 4.9159 18.3726C5.26502 18.5795 5.64001 18.5956 5.97879 18.5232C6.29832 18.4549 6.61716 18.3025 6.92448 18.1232C7.5266 17.7719 8.28875 17.1922 9.22736 16.4782L9.27281 16.4436C9.55661 16.2278 9.7233 16.1022 9.85534 16.0223C9.9154 15.986 9.95066 15.9703 9.96933 15.9634C9.97801 15.9603 9.98257 15.9592 9.98386 15.9589L9.98463 15.9588L9.9848 15.9587L9.98483 15.9587L9.98487 15.9587L9.98489 15.9587C9.99496 15.9581 10.005 15.9581 10.0151 15.9587Z"
              stroke="white"
              strokeWidth="1.5"
            />
          </svg>
          <button onClick={(e) => onClickDeleteFav(e)}>
            Eliminar de favoritos
          </button>
        </div>
      ) : (
        <div>
          <svg
            width="20"
            height="20"
            viewBox="0 0 20 20"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M10.0151 15.9587L10.0151 15.9587L10.0152 15.9587L10.0152 15.9587L10.0154 15.9588L10.0161 15.9589C10.0174 15.9592 10.022 15.9603 10.0307 15.9634C10.0493 15.9703 10.0846 15.986 10.1447 16.0223C10.2767 16.1022 10.4434 16.2278 10.7272 16.4436L10.7726 16.4782C11.7112 17.1922 12.4734 17.7719 13.0755 18.1232C13.3828 18.3025 13.7017 18.4549 14.0212 18.5232C14.36 18.5956 14.735 18.5795 15.0841 18.3726C15.2033 18.302 15.3137 18.2179 15.4134 18.1222C15.7003 17.8471 15.8219 17.4978 15.8585 17.1593C15.8937 16.8347 15.8557 16.4808 15.7882 16.1216C15.656 15.4177 15.3657 14.4826 15.006 13.3236L14.99 13.2722C14.8821 12.9243 14.8183 12.7159 14.7856 12.5554C14.7567 12.4133 14.767 12.3732 14.7692 12.3644L14.7693 12.3639C14.7728 12.35 14.777 12.3365 14.7819 12.3234L14.0788 12.0623L14.7819 12.3234C14.782 12.3232 14.782 12.323 14.7821 12.3228C14.7844 12.3164 14.7967 12.2816 14.8943 12.1897C15.0084 12.0823 15.1744 11.9548 15.4578 11.7392L15.5023 11.7054C16.4418 10.9908 17.2037 10.4112 17.7082 9.92097C18.1778 9.46461 18.6863 8.8459 18.5364 8.07489C18.5101 7.93993 18.4693 7.80809 18.4143 7.68188C18.0937 6.94511 17.3062 6.7531 16.6691 6.67273C15.983 6.58617 15.0392 6.58619 13.8804 6.58621L13.8226 6.58621C13.4712 6.58621 13.2679 6.58518 13.1181 6.56878C13.0504 6.56137 13.014 6.55257 12.9955 6.54677C12.9811 6.54225 12.9774 6.53953 12.9767 6.53905L12.9766 6.53899C12.9671 6.53259 12.9578 6.52552 12.9487 6.51775L12.4613 7.08773L12.9487 6.51775C12.9473 6.51652 12.9412 6.51148 12.929 6.49308C12.915 6.47197 12.8936 6.4339 12.8644 6.36523C12.801 6.21579 12.7356 6.0082 12.6276 5.66014L12.6114 5.60796C12.2519 4.44954 11.9616 3.51431 11.6732 2.86295C11.5263 2.53115 11.357 2.21818 11.1425 1.9728C10.9177 1.7156 10.611 1.49788 10.2077 1.44983C10.0697 1.43339 9.9303 1.43339 9.7923 1.44983C9.38899 1.49788 9.0823 1.7156 8.8575 1.9728C8.64303 2.21818 8.47372 2.53115 8.3268 2.86295C8.03837 3.51432 7.74812 4.44956 7.38861 5.60799L7.37243 5.66014C7.2644 6.0082 7.19904 6.21579 7.13558 6.36523C7.10642 6.4339 7.08498 6.47197 7.07101 6.49308C7.05914 6.51104 7.05299 6.51628 7.05137 6.51766L7.05126 6.51775L7.53873 7.08773L7.05126 6.51775C7.04219 6.52551 7.03286 6.53259 7.02336 6.53899C7.023 6.53924 7.01966 6.542 7.00448 6.54677C6.98599 6.55257 6.94961 6.56137 6.88193 6.56878C6.73214 6.58518 6.52882 6.58621 6.17744 6.58621L6.11956 6.58621C4.96084 6.58619 4.01699 6.58617 3.3309 6.67273C2.69383 6.7531 1.90626 6.94511 1.58565 7.68188C1.53073 7.80809 1.48987 7.93993 1.46362 8.07489C1.31368 8.8459 1.82224 9.46461 2.2918 9.92097C2.79627 10.4112 3.55826 10.9908 4.4978 11.7054L4.54216 11.7392C4.82565 11.9548 4.99164 12.0823 5.10573 12.1897C5.20334 12.2816 5.21564 12.3164 5.21789 12.3228C5.21797 12.323 5.21804 12.3232 5.2181 12.3234L5.92118 12.0623L5.2181 12.3234C5.22297 12.3365 5.22718 12.35 5.23066 12.3639L5.95258 12.1823L5.23066 12.3639L5.23079 12.3644C5.23303 12.3732 5.24327 12.4133 5.21435 12.5554C5.18169 12.7159 5.11791 12.9243 5.00995 13.2722L4.994 13.3236C4.63426 14.4826 4.34403 15.4177 4.21176 16.1216C4.14428 16.4808 4.10635 16.8347 4.14145 17.1593C4.17806 17.4978 4.29973 17.8471 4.58656 18.1222C4.6863 18.2179 4.79671 18.302 4.9159 18.3726C5.26502 18.5795 5.64001 18.5956 5.97879 18.5232C6.29832 18.4549 6.61716 18.3025 6.92448 18.1232C7.5266 17.7719 8.28875 17.1922 9.22736 16.4782L9.27281 16.4436C9.55661 16.2278 9.7233 16.1022 9.85534 16.0223C9.9154 15.986 9.95066 15.9703 9.96933 15.9634C9.97801 15.9603 9.98257 15.9592 9.98386 15.9589L9.98463 15.9588L9.9848 15.9587L9.98483 15.9587L9.98487 15.9587L9.98489 15.9587C9.99496 15.9581 10.005 15.9581 10.0151 15.9587Z"
              stroke="white"
              strokeWidth="1.5"
            />
          </svg>
          <button onClick={(e) => onClickAddFav(e)}>Agregar a favoritos</button>
        </div>
      )}
    </div>
  );
}
